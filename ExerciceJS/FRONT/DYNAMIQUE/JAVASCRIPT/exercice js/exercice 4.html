<!doctype html>
<html lang="fr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
    <link href="../css/styles.css" rel="stylesheet" />
    <link rel="icon" type="image/ico" href="../assets/images/ico2.ico" />

    <title>EXERCICE 4</title>
  </head>
  <body>
    <header class="d-flex flex-wrap align-items-center justify-content-center justify-content-md-between py-3 mb-4 border-bottom">
        <a href="/" class="d-flex align-items-center col-md-3 mb-2 mb-md-0 text-dark text-decoration-none">
          <svg class="bi me-2" width="40" height="32"><use xlink:href="#bootstrap"></use></svg>
        </a>
    
        <ul class="nav col-12 col-md-auto mb-2 justify-content-center mb-md-0">
            <li><a href="exercice 1.html" class="nav-link px-2 link-secondary">Exercice 1</a></li>
            <li><a href="exercice 2.html" class="nav-link px-2 link-dark">Exercice 2</a></li>
            <li><a href="exercice 3.html" class="nav-link px-2 link-dark">Exercice 3</a></li>
            <li><a href="exercice 4.html" class="nav-link px-2 link-dark">Exercice 4</a></li>
        </ul>
        <div class="col-md-3 text-end">
        </div>
      </header>   
      <img src="../../../STATIQUE/ASSETS/svg/banner.svg" class="img-fluid" alt="Responsive image">
      <section class="page-section accueil" id="accueil">
        <br>
        <div class="container">
            <!-- Titre de la page-->
            <br>
            <h2 class="page-section-heading text-center text-uppercase text-secondary mb-0">EXERCICE 4</h2>
            <hr class="my-4">
                        <!-- debut exercice -->
                        <div id="exo4" class="container">
                          <h3>Resultat :</h3>
                          <p id=monjs></p>
                          <h3>Code sources :</h3>
      <pre>
          var e = "€ ";
          var pu = parseFloat(prompt("Indiquer le prix unitaire du produit :")); // prix unitaire demander
          var qteCom = parseFloat(prompt("Indiquer la quantité à commander :")); // quantité demander
          var total = (pu * qteCom); // calcul du prix total
          var sousTotal;
          var insertResult = document.getElementById('monjs');
          if (total > 200) { //remise 10% au dessus de 200
              var rem = parseFloat(total * 10) / 100;
              sousTotal = parseFloat(total - rem);
              totalapayer();
          } 
          else if (total <= 200 && total > 100) {  // remise de 5% si 100 et 200 
              var rem = parseFloat(total * 5) / 100;
              sousTotal = parseFloat(total - rem);
              totalapayer();
          }
          else { //moins de 100 pas de remise
              port = 6;
              pap = ' Total à payer : ' + (total + port);
              insertResult.innerHTML = "Prix Unitaire : " + pu + e + 'Quantité : ' + qteCom + 'Frais de port : ' + port + e + pap + e;
              }
          function totalapayer() {
              var port = Math.round(sousTotal * 2) / 100;
              var pap = ' Total à payer : ' + parseFloat(sousTotal + port).toFixed(2);
              if (sousTotal <= 500) { //si total avec remise plus petit ou egale à 500
                  if (port > 6) { // si le port et au dessus de 6 afficher le total à payer
                      insertResult.innerHTML = "Prix Unitaire : " + pu + e + ' Quantité : ' + qteCom + sousTotal+ e 
                                               + '( -' + rem + ') Frais de port : ' + port + e + pap + e;
                  }
                  else {  // si le port et en dessous de 6 afficher alors oui attribuer 6 et afficher le total à payer
                      port = 6; // la valeur minimale du port à payer est de 6 €
                      pap = 'Total à payer : ' + parseFloat(sousTotal + port).toFixed(2);
                      insertResult.innerHTML ="Prix Unitaire : " + pu + e + 'Quantité : ' + qteCom + sousTotal+ e 
                                              + '( -' + rem  + ') Frais de port : ' + port + e + pap + e;
                      }
                  }
                  else {
                      port = " gratuit ";
                      pap = ' Total à payer : ' + sousTotal;
                      insertResult.innerHTML ="Prix Unitaire : " + pu + e + 'Quantité : ' + qteCom + sousTotal+ e 
                                              + '( -' + rem  + ')Frais de port : ' + port + pap + e;
                  }
          }
      </pre>
      
      
                      </div>
      <!--  SCRIPT -->  
      <script>
        var e = "€ ";
        var pu = parseFloat(prompt("Indiquer le prix unitaire du produit :")); // prix unitaire demander
        var qteCom = parseFloat(prompt("Indiquer la quantité à commander :")); // quantité demander
        var total = (pu * qteCom); // calcul du prix total
        var sousTotal;
        var insertResult = document.getElementById('monjs');
        if (total > 200) { //remise 10% au dessus de 200
            var rem = parseFloat(total * 10) / 100;
            sousTotal = parseFloat(total - rem);
            totalapayer();
        } else if (total <= 200 && total > 100) {  // remise de 5% si 100 et 200 
            var rem = parseFloat(total * 5) / 100;
            sousTotal = parseFloat(total - rem);
            totalapayer();
        }
        else { //moins de 100 pas de remise
            port = 6;
            pap = ' Total à payer : ' + (total + port);
            insertResult.innerHTML = "Prix Unitaire : " + pu + e + '<br>Quantité : ' + qteCom + ' <br>Frais de port : ' + port + e + '<br>' + pap + e;
        }
        function totalapayer() {
            var port = Math.round(sousTotal * 2) / 100;
            var pap = ' Total à payer : ' + parseFloat(sousTotal + port).toFixed(2);
            if (sousTotal <= 500) { //si total avec remise plus petit ou egale à 500
                if (port > 6) { // si le port et au dessus de 6 afficher le total à payer
                    insertResult.innerHTML = "Prix Unitaire : " + pu + e + '<br>Quantité : ' + qteCom +' <br>' + sousTotal+ e  + '( -' + rem + ') <br>Frais de port : ' + port + e + '<br>' + pap + e;
                }
                else {  // si le port et en dessous de 6 afficher alors oui attribuer 6 et afficher le total à payer
                    port = 6; // la valeur minimale du port à payer est de 6 €
                    pap = 'Total à payer : ' + parseFloat(sousTotal + port).toFixed(2);
                    insertResult.innerHTML ="Prix Unitaire : " + pu + e + '<br>Quantité : ' + qteCom +' <br>' + sousTotal+ e + '( -' + rem  + ')<br>Frais de port : ' + port + e + '<br>' + pap + e;
                }
            }
            else {
                port = " gratuit ";
                pap = ' Total à payer : ' + sousTotal;
                insertResult.innerHTML ="Prix Unitaire : " + pu + e + '<br>Quantité : ' + qteCom  +' <br>' + sousTotal+ e + '( -' + rem  + ')<br>Frais de port : ' + port + '<br>' + pap + e;
            }
        }
    </script>
    <!-- Copyright -->
    <div class="text-center p-3" style="background-color:#838383;">
      © 2020 Copyright:
      <a class="text-dark" href="index.html">Kadir Reziga</a>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js" integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js"
    integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n"
    crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
    integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
    crossorigin="anonymous"></script>
  </body>
</html>